.macro PADDING_32_BYTES
	.option push
	.option arch, -zcmt
	.option arch, -zca
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	.option pop
.endm

.macro PADDING_256_BYTES
	PADDING_32_BYTES
	PADDING_32_BYTES
	PADDING_32_BYTES
	PADDING_32_BYTES
	PADDING_32_BYTES
	PADDING_32_BYTES
	PADDING_32_BYTES
	PADDING_32_BYTES
.endm

.macro PADDING_2048_BYTES
	PADDING_256_BYTES
	PADDING_256_BYTES
	PADDING_256_BYTES
	PADDING_256_BYTES
	PADDING_256_BYTES
	PADDING_256_BYTES
	PADDING_256_BYTES
	PADDING_256_BYTES
.endm

.option norelax
target:
	c.beqz s0, C_BRANCH_RANGE
C_BRANCH_RANGE:
	c.bnez s0, EXPAND_TO_BRANCH
	PADDING_256_BYTES
EXPAND_TO_BRANCH:
	c.bnez s0, FLIP_C_BRANCH_AND_JUMP
	PADDING_2048_BYTES
	PADDING_2048_BYTES
FLIP_C_BRANCH_AND_JUMP:
	c.beqz s0, -4
	ret
